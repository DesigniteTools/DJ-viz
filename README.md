# DJ-Viz: Visualization for DesigniteJava analysis

The project aims to develop a web application for visualizing code smells and code quality metrics detected by the [DesigniteJava](https://designite-tools.com/products-dj) tool. DesigniteJava identifies various types of code smells in Java projects and generates CSV files containing detailed information about the detected smells. The web application provides a user-friendly interface to visualize the detected smells and computed code quality metrics.

## Features

- Supports visualizing detected code smells and computed code quality metrics by DesigniteJava.
- Supports two modes: _smells_ for visualizing DesigniteJava's analysis of a commit (typically the latest commit), _trend_ for visualizing DesigniteJava's analysis of a set of commits of a Java repository.

<img width="1002" alt="Overview" src="./docs/smells-overview.png">
<img width="1002" alt="Metrics" src="./docs/metrics.png">
<img width="1002" alt="Smells" src="./docs/smells.png">

## Usage

Follow these steps to run the application using Docker:

### Prerequisites

1. **Run DesigniteJava for Analysis Files:** Before proceeding, ensure that you have run DesigniteJava to analyze your Java projects and generate the required files. Find more information about DesigniteJava and instructions to use the tool [here](https://designite-tools.com/products-dj).

2. **Check Docker Installation:** Docker should be installed on your machine.

3. Ensure that you have the necessary folders and files organized according to the type of analysis you intend to perform (e.g., smells or trend).

   - For smells analysis, the folder should contain the files generated by DesigniteJava.

   <img width="1002" alt="Screenshot 2024-04-05 at 11 10 04" src="https://github.com/SMART-Dal/smells-viz/assets/74357926/0d2970a7-9d7b-4350-88ec-f8d6d600e280">

   - For the "trend" type, ensure that the folder contains subfolders that are named after the commit hashes that need to be analyzed.

   <img width="1002" alt="Screenshot 2024-04-05 at 11 10 33" src="https://github.com/SMART-Dal/smells-viz/assets/74357926/58ef70d6-c733-4fbe-8760-192b4089253b">

   - The folder should also contain a .txt file that has the name of the subfolders in each line in the order it needs to be analyzed. The name of the file must be `commits.txt` and it should be in the same main folder.

   <img width="1031" alt="Screenshot 2024-04-12 at 12 40 38" src="https://github.com/SMART-Dal/smells-viz/assets/74357926/9649ca13-dcb7-4a45-a6e3-f1326da1988e">

### Running the application with Docker

1. Clone this repository and navigate to the project diretory.

2. Navigate to the folder where the `docker-compose.yml` file is located.

3. Run the following command in your terminal with appropriate folder path (that contains CSV files generated by DesigniteJava) with `TYPE="smells"`

   ```bash
   FOLDER="/absolute/path/of/smells/folder" TYPE="smells" docker-compose up
   ```

   For visualizing the trend data, invoke the command with `TYPE="trend"`. The provide folder should contain a `commits.txt` file containing the names of the subfolders (of the provided folder path) in each line. It is to provide the order of analysis results corresponding to each commit (each subfolder contains analysis result corresponding to a commit). For an example, refer to this <a href="./docs/sample.png">image</a>.

   ```bash
   FOLDER="/absolute_path/of/trend/folder" TYPE="trend" docker-compose up
   ```

   For the "trend" type, ensure that the folder contains subfolders that are named after the commit hashes that need to be analyzed.

4. Once the containers are up and running, open your web browser and go to [localhost:3000](http://localhost:3000) to access the application.
